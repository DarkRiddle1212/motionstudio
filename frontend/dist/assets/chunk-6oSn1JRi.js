const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-CkWBrrKE.js","assets/chunk-CJk5566G.js","assets/chunk-CHwTWNu0.js","assets/chunk-B2YaEX5v.js","assets/chunk-BXbIpaFw.js","assets/chunk-dpJk8qoM.js","assets/chunk-R85HH7t5.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty;import{r,j as t,u as n,N as a,a as i,R as o,L as s}from"./chunk-CJk5566G.js";import{m as l,A as d,u as c,a as m}from"./chunk-C_3zi0wr.js";import"./chunk-BXbIpaFw.js";import{D as h}from"./chunk-B2YaEX5v.js";import{a as u}from"./chunk-BzhC-wyg.js";const b={},p=function(e,r,t){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(r.map(e=>{if((e=function(e){return"/"+e}(e))in b)return;b[e]=!0;const r=e.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=r?"stylesheet":"modulepreload",r||(a.as="script"),a.crossOrigin="",a.href=e,t&&a.setAttribute("nonce",t),document.head.appendChild(a),r?new Promise((r,t)=>{a.addEventListener("load",r),a.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e}return n.then(r=>{for(const e of r||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},x="http://localhost:5000/api",g=r.createContext(void 0),f=({children:e})=>{const[n,a]=r.useState(null),[i,o]=r.useState(null),[s,l]=r.useState(!0);r.useEffect(()=>{const e=localStorage.getItem("token"),r=localStorage.getItem("user");e&&r&&(o(e),a(JSON.parse(r)),u.defaults.headers.common.Authorization=`Bearer ${e}`),l(!1)},[]);const d={user:n,token:i,loading:s,login:async(e,r)=>{var t,n;try{const t=await u.post(`${x}/auth/login`,{email:e,password:r}),{user:n,token:i}=t.data;return a(n),o(i),localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(n)),u.defaults.headers.common.Authorization=`Bearer ${i}`,n}catch(i){throw new Error((null==(n=null==(t=i.response)?void 0:t.data)?void 0:n.error)||"Login failed")}},signup:async(e,r,t,n)=>{var a,i;try{return(await u.post(`${x}/auth/signup`,{email:e,password:r,firstName:t,lastName:n})).data}catch(o){throw new Error((null==(i=null==(a=o.response)?void 0:a.data)?void 0:i.error)||"Signup failed")}},logout:()=>{a(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user"),delete u.defaults.headers.common.Authorization},verifyEmail:async e=>{var r,t;try{await u.post(`${x}/auth/verify-email`,{token:e})}catch(n){throw new Error((null==(t=null==(r=n.response)?void 0:r.data)?void 0:t.error)||"Email verification failed")}},isAuthenticated:!!n&&!!i};return t.jsx(g.Provider,{value:d,children:e})},v=()=>{const e=r.useContext(g);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},y={easing:{default:"easeOut"},duration:{default:.6},distance:{small:20,default:30},parallax:{default:.5},stagger:{default:.15},viewport:{once:!0,margin:"0px 0px -100px 0px",amount:.3},hover:{scale:1.02,duration:.2,easing:"easeOut"},reducedMotion:{duration:.01,distance:0}},N=()=>"undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,w={hidden:{opacity:0,y:y.distance.default},visible:{opacity:1,y:0,transition:{duration:y.duration.default,ease:y.easing.default}}},k={hidden:{},visible:{transition:{staggerChildren:y.stagger.default}}},C={rest:{scale:1,transition:{duration:y.hover.duration,ease:y.hover.easing}},hover:{scale:y.hover.scale,transition:{duration:y.hover.duration,ease:y.hover.easing}}},L={rest:{scale:1,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition:{duration:y.hover.duration,ease:y.hover.easing}},hover:{scale:y.hover.scale,boxShadow:"0 10px 15px -3px rgba(200, 154, 166, 0.2)",transition:{duration:y.hover.duration,ease:y.hover.easing}}},j={rest:{y:0,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2), 0 8px 16px rgba(0, 0, 0, 0.3)",transition:{duration:y.hover.duration,ease:y.hover.easing}},hover:{y:-4,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3), 0 16px 32px rgba(0, 0, 0, 0.4)",transition:{duration:y.hover.duration,ease:y.hover.easing}}},$={rest:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2), 0 8px 16px rgba(0, 0, 0, 0.3)",transition:{duration:y.hover.duration,ease:y.hover.easing}},hover:{boxShadow:"0 0 20px rgba(200, 154, 166, 0.3), 0 4px 8px rgba(0, 0, 0, 0.3)",transition:{duration:y.hover.duration,ease:y.hover.easing}}},M=r.forwardRef(({children:e,variant:r="primary",size:n="md",isLoading:a=!1,fullWidth:i=!1,leftIcon:o,rightIcon:s,className:d="",disabled:c,...m},h)=>{const u=`${"\n    font-sans font-medium rounded-lg\n    transition-all duration-300 ease-premium\n    focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2 focus-visible:ring-offset-brand-primary-bg\n    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none\n    inline-flex items-center justify-center gap-2\n    select-none\n  ".trim().replace(/\s+/g," ")} ${{primary:"\n      bg-gradient-to-r from-brand-accent to-brand-accent-dark text-white\n      shadow-premium border border-brand-accent/20\n      hover:shadow-glow-lg hover:scale-[1.02] hover:from-brand-accent-light hover:to-brand-accent\n      active:scale-[0.98] active:shadow-button\n    ".trim().replace(/\s+/g," "),secondary:"\n      bg-transparent text-brand-accent border-2 border-brand-accent/40\n      hover:bg-brand-accent/10 hover:border-brand-accent hover:shadow-glow hover:scale-[1.02]\n      active:scale-[0.98] active:bg-brand-accent/5\n    ".trim().replace(/\s+/g," "),tertiary:"\n      bg-brand-surface-card text-brand-primary-text border border-white/10\n      hover:bg-brand-surface-elevated hover:border-white/20 hover:scale-[1.02]\n      active:scale-[0.98] active:bg-brand-surface-card\n    ".trim().replace(/\s+/g," "),ghost:"\n      bg-transparent text-brand-secondary-text\n      hover:bg-white/5 hover:text-brand-primary-text hover:scale-[1.02]\n      active:scale-[0.98] active:bg-white/3\n    ".trim().replace(/\s+/g," ")}[r]} ${{sm:"px-4 py-2.5 text-sm min-h-[44px] min-w-[44px]",md:"px-6 py-3 text-base min-h-[48px] min-w-[48px]",lg:"px-8 py-4 text-lg min-h-[52px] min-w-[52px]",xl:"px-10 py-5 text-xl min-h-[56px] min-w-[56px]"}[n]} ${i?"w-full":""} ${d}`,b=()=>t.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"});return t.jsx(l.button,{ref:h,variants:C,initial:"rest",whileHover:c||a?void 0:"hover",whileTap:c||a?void 0:{scale:.98},className:u,disabled:c||a,...m,children:a?t.jsxs(t.Fragment,{children:[t.jsx(b,{}),t.jsx("span",{children:"Loading..."})]}):t.jsxs(t.Fragment,{children:[o&&t.jsx("span",{className:"flex-shrink-0",children:o}),e,s&&t.jsx("span",{className:"flex-shrink-0",children:s})]})})});M.displayName="Button";const z=({children:e,variant:r="default",hover:n="lift",padding:a="md",aspectRatio:i="auto",className:o="",onClick:s,hoverable:d=!1,"data-testid":c,...m})=>{const h=["rounded-xl overflow-hidden transition-all duration-300 ease-smooth",{default:"bg-surface-card border-subtle",project:"bg-surface-card border-subtle cursor-pointer",course:"bg-surface-card border-subtle",elevated:"bg-surface-elevated shadow-card border-subtle-light",glass:"glass rounded-xl"}[r],{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[a],{"16/9":"aspect-video","4/3":"aspect-[4/3]","1/1":"aspect-square",auto:""}[i],s||d?"cursor-pointer":"",o].filter(Boolean).join(" ");if((s||d)&&"none"!==n){const a=(()=>{switch(n){case"lift":return j;case"glow":return $;case"scale":return L;default:return}})();return t.jsx(l.div,{className:h,variants:a,initial:"rest",whileHover:"hover",onClick:s,"data-testid":c,"data-variant":r,"data-hover":n,...m,children:e})}const u="none"!==n?{lift:"hover-lift",glow:"hover-glow",scale:"hover-scale",none:""}[n]:"";return t.jsx("div",{className:`${h} ${u}`.trim(),onClick:s,"data-testid":c,"data-variant":r,"data-hover":n,...m,children:e})},B={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};r.forwardRef(({size:e="md",className:r="",children:n,"aria-hidden":a=!0,"aria-label":i,role:o,...s},l)=>{const d=`\n    inline-flex\n    items-center\n    justify-center\n    flex-shrink-0\n    ${B[e]}\n    ${r}\n  `.trim().replace(/\s+/g," ");return t.jsx("span",{ref:l,className:d,"aria-hidden":a,"aria-label":i,role:o,...s,children:n})}).displayName="Icon";const S=r.forwardRef(({size:e="md",className:r="",viewBox:n="0 0 24 24",fill:a="none",stroke:i="currentColor",strokeWidth:o=2,children:s,"aria-hidden":l=!0,"aria-label":d,...c},m)=>{const h=`\n    ${B[e]}\n    flex-shrink-0\n    ${r}\n  `.trim().replace(/\s+/g," ");return t.jsx("svg",{ref:m,className:h,viewBox:n,fill:a,stroke:i,strokeWidth:o,"aria-hidden":l,"aria-label":d,...c,children:s})});S.displayName="SvgIcon";const A=({size:e="md",className:r="",...n})=>t.jsx(S,{size:e,className:r,...n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),_=({size:e="md",className:r="",...n})=>t.jsx(S,{size:e,className:r,...n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),W=({size:e="md",className:r="",...n})=>t.jsx(S,{size:e,className:r,...n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),P=({size:e="md",className:r="",...n})=>t.jsx(S,{size:e,className:r,...n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),E=r.forwardRef(({label:e,error:n,helperText:a,fullWidth:i=!1,variant:o="default",inputSize:s="md",leftIcon:l,rightIcon:d,success:c,className:m="",id:h,value:u,defaultValue:b,placeholder:p,onFocus:x,onBlur:g,...f},v)=>{const y=r.useId(),N=h||y,[w,k]=r.useState(!1),[C,L]=r.useState(!!u||!!b),[j,$]=r.useState(!1);r.useEffect(()=>{L(!!u||!!b)},[u,b]),r.useEffect(()=>{if(n){$(!0);const e=setTimeout(()=>$(!1),500);return()=>clearTimeout(e)}},[n]);const M=e=>{k(!0),null==x||x(e)},z=e=>{k(!1),L(!!e.target.value),null==g||g(e)},B=i?"w-full":"",S="floating"===o,A=S&&(w||C),P=`\n    \n    w-full\n    font-sans\n    bg-surface-card\n    text-brand-primary-text\n    placeholder-brand-muted-text\n    border\n    rounded-lg\n    transition-all\n    duration-300\n    ease-smooth\n    focus:outline-none\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n  \n    ${{sm:"px-3 py-2 text-body-sm",md:"px-4 py-3 text-body-md",lg:"px-5 py-4 text-body-lg"}[s]}\n    ${n?"border-red-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.15)]":c?"border-green-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"\n      border-white/10\n      hover:border-brand-accent/30\n      focus:border-brand-accent\n      focus:ring-2\n      focus:ring-brand-accent/20\n      focus:shadow-[0_0_0_3px_rgba(200,154,166,0.15)]\n    "}\n    ${j?"animate-[shake_0.5s_ease-in-out]":""}\n    ${l?{sm:"pl-10",md:"pl-12",lg:"pl-14"}[s]:""}\n    ${d?{sm:"pr-10",md:"pr-12",lg:"pr-14"}[s]:""}\n    ${S?"pt-6 pb-2":""}\n    ${m}\n  `.trim().replace(/\s+/g," ");return"default"===o||"outlined"===o?t.jsxs("div",{className:`relative ${B}`,children:[e&&t.jsx("label",{htmlFor:N,className:"block text-body-sm font-medium text-brand-primary-text mb-2 transition-colors duration-200",children:e}),t.jsxs("div",{className:"relative",children:[l&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-secondary-text pointer-events-none transition-colors duration-200 flex items-center justify-center",children:l}),t.jsx("input",{id:N,ref:v,className:P,value:u,defaultValue:b,placeholder:p,onFocus:M,onBlur:z,"aria-invalid":!!n,"aria-describedby":n?`${N}-error`:a?`${N}-helper`:void 0,...f}),d&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-brand-secondary-text pointer-events-none transition-colors duration-200 flex items-center justify-center",children:d}),c&&!d&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-scale-in flex items-center justify-center",children:t.jsx(_,{size:"sm"})})]}),n&&t.jsxs("p",{id:`${N}-error`,className:"mt-2 text-body-sm text-red-500 animate-slide-down flex items-center gap-2",role:"alert",children:[t.jsx(W,{size:"xs",className:"flex-shrink-0"}),n]}),a&&!n&&t.jsx("p",{id:`${N}-helper`,className:"mt-2 text-body-sm text-brand-secondary-text",children:a})]}):t.jsxs("div",{className:`relative ${B}`,children:[t.jsxs("div",{className:"relative",children:[l&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-brand-secondary-text pointer-events-none transition-colors duration-200 flex items-center justify-center "+(w?"text-brand-accent":""),children:l}),t.jsx("input",{id:N,ref:v,className:P,value:u,defaultValue:b,placeholder:w?p:" ",onFocus:M,onBlur:z,"aria-invalid":!!n,"aria-describedby":n?`${N}-error`:a?`${N}-helper`:void 0,...f}),e&&t.jsx("label",{htmlFor:N,className:`\n              absolute\n              left-4\n              transition-all\n              duration-200\n              ease-smooth\n              pointer-events-none\n              ${l?"left-12":"left-4"}\n              ${A?"top-2 text-caption text-brand-accent font-medium":"top-1/2 -translate-y-1/2 text-body-md text-brand-muted-text"}\n              ${n?"text-red-500":""}\n              ${c?"text-green-500":""}\n            `,children:e}),d&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-brand-secondary-text pointer-events-none transition-colors duration-200 flex items-center justify-center",children:d}),c&&!d&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500 animate-scale-in flex items-center justify-center",children:t.jsx(_,{size:"sm"})})]}),n&&t.jsxs("p",{id:`${N}-error`,className:"mt-2 text-body-sm text-red-500 animate-slide-down flex items-center gap-2",role:"alert",children:[t.jsx(W,{size:"xs",className:"flex-shrink-0"}),n]}),a&&!n&&t.jsx("p",{id:`${N}-helper`,className:"mt-2 text-body-sm text-brand-secondary-text",children:a})]})});E.displayName="Input";const O=r.forwardRef(({label:e,error:n,helperText:a,fullWidth:i=!1,resize:o="vertical",variant:s="default",size:l="md",showCharCount:d=!1,success:c,className:m="",id:h,value:u,defaultValue:b,placeholder:p,maxLength:x,onFocus:g,onBlur:f,onChange:v,...y},N)=>{const w=r.useId(),k=h||w,[C,L]=r.useState(!1),[j,$]=r.useState(!!u||!!b),[M,z]=r.useState("string"==typeof u?u.length:"string"==typeof b?b.length:0),[B,S]=r.useState(!1);r.useEffect(()=>{$(!!u||!!b),"string"==typeof u&&z(u.length)},[u,b]),r.useEffect(()=>{if(n){S(!0);const e=setTimeout(()=>S(!1),500);return()=>clearTimeout(e)}},[n]);const A=e=>{L(!0),null==g||g(e)},_=e=>{L(!1),$(!!e.target.value),null==f||f(e)},W=e=>{z(e.target.value.length),$(!!e.target.value),null==v||v(e)},P=i?"w-full":"",E="floating"===s,O=E&&(C||j),T=`\n    \n    w-full\n    font-sans\n    bg-surface-card\n    text-brand-primary-text\n    placeholder-brand-muted-text\n    border\n    rounded-lg\n    transition-all\n    duration-300\n    ease-smooth\n    focus:outline-none\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n  \n    ${{sm:"px-3 py-2 text-body-sm min-h-[80px]",md:"px-4 py-3 text-body-md min-h-[120px]",lg:"px-5 py-4 text-body-lg min-h-[160px]"}[l]}\n    ${n?"border-red-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.15)]":c?"border-green-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"\n      border-white/10\n      hover:border-brand-accent/30\n      focus:border-brand-accent\n      focus:ring-2\n      focus:ring-brand-accent/20\n      focus:shadow-[0_0_0_3px_rgba(200,154,166,0.15)]\n    "}\n    ${!1===o||"none"===o?"resize-none":"vertical"===o||!0===o?"resize-y":"horizontal"===o?"resize-x":"resize"}\n    ${B?"animate-[shake_0.5s_ease-in-out]":""}\n    ${E?"pt-6":""}\n    ${m}\n  `.trim().replace(/\s+/g," "),D=()=>{if(!x)return"text-brand-secondary-text";const e=M/x;return e>=1?"text-red-500":e>=.9?"text-yellow-500":"text-brand-secondary-text"};return"default"===s||"outlined"===s?t.jsxs("div",{className:`relative ${P}`,children:[e&&t.jsx("label",{htmlFor:k,className:"block text-body-sm font-medium text-brand-primary-text mb-2 transition-colors duration-200",children:e}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{id:k,ref:N,className:T,value:u,defaultValue:b,placeholder:p,maxLength:x,onFocus:A,onBlur:_,onChange:W,"aria-invalid":!!n,"aria-describedby":n?`${k}-error`:a?`${k}-helper`:void 0,...y}),c&&t.jsx("div",{className:"absolute right-3 top-3 text-green-500 animate-scale-in",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),t.jsxs("div",{className:"flex justify-between items-start mt-2 gap-4",children:[t.jsxs("div",{className:"flex-1",children:[n&&t.jsxs("p",{id:`${k}-error`,className:"text-body-sm text-red-500 animate-slide-down flex items-center gap-1",role:"alert",children:[t.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]}),a&&!n&&t.jsx("p",{id:`${k}-helper`,className:"text-body-sm text-brand-secondary-text",children:a})]}),d&&t.jsxs("p",{className:`text-caption ${D()} transition-colors duration-200 flex-shrink-0`,children:[M,x?`/${x}`:""]})]})]}):t.jsxs("div",{className:`relative ${P}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{id:k,ref:N,className:T,value:u,defaultValue:b,placeholder:C?p:" ",maxLength:x,onFocus:A,onBlur:_,onChange:W,"aria-invalid":!!n,"aria-describedby":n?`${k}-error`:a?`${k}-helper`:void 0,...y}),e&&t.jsx("label",{htmlFor:k,className:`\n              absolute\n              left-4\n              transition-all\n              duration-200\n              ease-smooth\n              pointer-events-none\n              ${O?"top-2 text-caption text-brand-accent font-medium":"top-4 text-body-md text-brand-muted-text"}\n              ${n?"text-red-500":""}\n              ${c?"text-green-500":""}\n            `,children:e}),c&&t.jsx("div",{className:"absolute right-3 top-3 text-green-500 animate-scale-in",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),t.jsxs("div",{className:"flex justify-between items-start mt-2 gap-4",children:[t.jsxs("div",{className:"flex-1",children:[n&&t.jsxs("p",{id:`${k}-error`,className:"text-body-sm text-red-500 animate-slide-down flex items-center gap-1",role:"alert",children:[t.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]}),a&&!n&&t.jsx("p",{id:`${k}-helper`,className:"text-body-sm text-brand-secondary-text",children:a})]}),d&&t.jsxs("p",{className:`text-caption ${D()} transition-colors duration-200 flex-shrink-0`,children:[M,x?`/${x}`:""]})]})]})});O.displayName="Textarea",r.forwardRef(({label:e,error:n,helperText:a,fullWidth:i=!1,variant:o="default",size:s="md",options:l=[],placeholder:d,success:c,className:m="",id:h,value:u,defaultValue:b,onFocus:p,onBlur:x,onChange:g,children:f,...v},y)=>{const N=r.useId(),w=h||N,[k,C]=r.useState(!1),[L,j]=r.useState(!!u||!!b),[$,M]=r.useState(!1);r.useEffect(()=>{j(!!u||!!b)},[u,b]),r.useEffect(()=>{if(n){M(!0);const e=setTimeout(()=>M(!1),500);return()=>clearTimeout(e)}},[n]);const z=e=>{C(!0),null==p||p(e)},B=e=>{C(!1),j(!!e.target.value),null==x||x(e)},S=e=>{j(!!e.target.value),null==g||g(e)},_=i?"w-full":"",P="floating"===o,E=P&&(k||L),O=`\n    \n    w-full\n    font-sans\n    bg-surface-card\n    text-brand-primary-text\n    border\n    rounded-lg\n    transition-all\n    duration-300\n    ease-smooth\n    focus:outline-none\n    disabled:opacity-50\n    disabled:cursor-not-allowed\n    appearance-none\n    cursor-pointer\n  \n    ${{sm:"px-3 py-2 text-body-sm pr-10",md:"px-4 py-3 text-body-md pr-12",lg:"px-5 py-4 text-body-lg pr-14"}[s]}\n    ${n?"border-red-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.15)]":c?"border-green-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"\n      border-white/10\n      hover:border-brand-accent/30\n      focus:border-brand-accent\n      focus:ring-2\n      focus:ring-brand-accent/20\n      focus:shadow-[0_0_0_3px_rgba(200,154,166,0.15)]\n    "}\n    ${$?"animate-[shake_0.5s_ease-in-out]":""}\n    ${P?"pt-6 pb-2":""}\n    ${!L&&d?"text-brand-muted-text":""}\n    ${m}\n  `.trim().replace(/\s+/g," "),T={sm:"right-3",md:"right-4",lg:"right-5"};return"default"===o||"outlined"===o?t.jsxs("div",{className:`relative ${_}`,children:[e&&t.jsx("label",{htmlFor:w,className:"block text-body-sm font-medium text-brand-primary-text mb-2 transition-colors duration-200",children:e}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{id:w,ref:y,className:O,value:u,defaultValue:b,onFocus:z,onBlur:B,onChange:S,"aria-invalid":!!n,"aria-describedby":n?`${w}-error`:a?`${w}-helper`:void 0,...v,children:[d&&t.jsx("option",{value:"",disabled:!0,children:d}),l.length>0?l.map(e=>t.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)):f]}),t.jsx("div",{className:`absolute ${T[s]} top-1/2 -translate-y-1/2 pointer-events-none transition-transform duration-200 ${k?"rotate-180":""} flex items-center justify-center`,children:t.jsx(A,{size:"sm",className:n?"text-red-500":c?"text-green-500":"text-brand-secondary-text"})})]}),n&&t.jsxs("p",{id:`${w}-error`,className:"mt-2 text-body-sm text-red-500 animate-slide-down flex items-center gap-2",role:"alert",children:[t.jsx(W,{size:"xs",className:"flex-shrink-0"}),n]}),a&&!n&&t.jsx("p",{id:`${w}-helper`,className:"mt-2 text-body-sm text-brand-secondary-text",children:a})]}):t.jsxs("div",{className:`relative ${_}`,children:[t.jsxs("div",{className:"relative",children:[t.jsxs("select",{id:w,ref:y,className:O,value:u,defaultValue:b,onFocus:z,onBlur:B,onChange:S,"aria-invalid":!!n,"aria-describedby":n?`${w}-error`:a?`${w}-helper`:void 0,...v,children:[d&&t.jsx("option",{value:"",disabled:!0,children:d}),l.length>0?l.map(e=>t.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)):f]}),e&&t.jsx("label",{htmlFor:w,className:`\n              absolute\n              left-4\n              transition-all\n              duration-200\n              ease-smooth\n              pointer-events-none\n              ${E?"top-2 text-caption text-brand-accent font-medium":"top-1/2 -translate-y-1/2 text-body-md text-brand-muted-text"}\n              ${n?"text-red-500":""}\n              ${c?"text-green-500":""}\n            `,children:e}),t.jsx("div",{className:`absolute ${T[s]} top-1/2 -translate-y-1/2 pointer-events-none transition-transform duration-200 ${k?"rotate-180":""} flex items-center justify-center`,children:t.jsx(A,{size:"sm",className:n?"text-red-500":c?"text-green-500":"text-brand-secondary-text"})})]}),n&&t.jsxs("p",{id:`${w}-error`,className:"mt-2 text-body-sm text-red-500 animate-slide-down flex items-center gap-2",role:"alert",children:[t.jsx(W,{size:"xs",className:"flex-shrink-0"}),n]}),a&&!n&&t.jsx("p",{id:`${w}-helper`,className:"mt-2 text-body-sm text-brand-secondary-text",children:a})]})}).displayName="Select";const T=({label:e,accept:n,multiple:a=!1,maxSize:i=50,onFileSelect:o,error:s,helperText:d,fullWidth:c=!1})=>{const[m,h]=r.useState(!1),[u,b]=r.useState([]),p=r.useRef(null),x=e=>{const r=e.filter(e=>e.size/1048576<=i);b(r),o(r)},g=m?"border-brand-accent bg-brand-accent bg-opacity-10":"border-brand-accent border-opacity-30 hover:border-opacity-50",f=s?"border-red-400":"",v=c?"w-full":"";return t.jsxs("div",{className:c?"w-full":"",children:[e&&t.jsx("label",{className:"block text-sm font-medium text-brand-primary-text mb-2",children:e}),t.jsxs(l.div,{className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all duration-300 ${g} ${f} ${v}`,onDragOver:e=>{e.preventDefault(),h(!0)},onDragLeave:e=>{e.preventDefault(),h(!1)},onDrop:e=>{e.preventDefault(),h(!1);const r=Array.from(e.dataTransfer.files);x(r)},onClick:()=>{var e;null==(e=p.current)||e.click()},whileHover:{scale:1.01},whileTap:{scale:.99},children:[t.jsx("input",{ref:p,type:"file",accept:n,multiple:a,onChange:e=>{const r=Array.from(e.target.files||[]);x(r)},className:"hidden"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-brand-primary-text",children:t.jsx("svg",{className:"mx-auto h-12 w-12 text-brand-secondary-text",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:t.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-brand-primary-text font-medium",children:"Drop files here or click to browse"}),t.jsx("p",{className:"text-sm text-brand-secondary-text",children:n?`Accepted formats: ${n}`:"All file types accepted"}),t.jsxs("p",{className:"text-sm text-brand-secondary-text",children:["Max size: ",i,"MB ",a?"(multiple files allowed)":""]})]})]})]}),u.length>0&&t.jsx("div",{className:"mt-4 space-y-2",children:u.map((e,r)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-secondary-bg rounded-lg border border-brand-accent border-opacity-20",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"text-brand-primary-text",children:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-brand-primary-text",children:e.name}),t.jsxs("p",{className:"text-xs text-brand-secondary-text",children:[(e.size/1048576).toFixed(2)," MB"]})]})]}),t.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{const r=u.filter((r,t)=>t!==e);b(r),o(r)})(r)},className:"text-brand-secondary-text hover:text-red-500 transition-colors",children:t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},r))}),s&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:s}),d&&!s&&t.jsx("p",{className:"mt-1 text-sm text-brand-secondary-text",children:d})]})},D=({value:e,max:r=100,size:n="md",showLabel:a=!0,label:i,animated:o=!0,className:s=""})=>{const d=Math.min(Math.max(e/r*100,0),100),c=`w-full bg-brand-secondary-bg rounded-full overflow-hidden ${{sm:"h-2",md:"h-3",lg:"h-4"}[n]}`;return t.jsxs("div",{className:`space-y-2 ${s}`,children:[(a||i)&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-brand-primary-text",children:i||"Progress"}),t.jsxs("span",{className:"text-sm text-brand-secondary-text",children:[Math.round(d),"%"]})]}),t.jsx("div",{className:c,children:t.jsx(l.div,{className:"h-full bg-brand-accent rounded-full",initial:{width:0},animate:{width:`${d}%`},transition:{duration:o?.8:0,ease:"easeOut"}})})]})},V=({children:e,variant:r="default",size:n="md",className:a=""})=>{const i=`inline-flex items-center font-medium rounded-full ${{default:"bg-brand-accent bg-opacity-20 text-brand-primary-text hover:bg-opacity-30 transition-colors duration-300",primary:"bg-brand-primary-text text-brand-primary-bg hover:bg-opacity-90 transition-colors duration-300",secondary:"bg-brand-secondary-bg text-brand-primary-text border border-brand-primary-text hover:bg-brand-primary-text hover:text-brand-primary-bg transition-colors duration-300",accent:"bg-brand-accent text-white hover:bg-opacity-90 transition-colors duration-300",success:"bg-green-100 text-green-800 hover:bg-green-200 transition-colors duration-300",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 transition-colors duration-300",error:"bg-red-100 text-red-800 hover:bg-red-200 transition-colors duration-300",info:"bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors duration-300",danger:"bg-red-100 text-red-800 hover:bg-red-200 transition-colors duration-300"}[r]} ${{sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"}[n]} ${a}`;return t.jsx("span",{className:i,children:e})},R=({isOpen:e,onClose:n,title:a,children:i,size:o="md",showCloseButton:s=!0,closeOnOverlayClick:c=!0,footer:m})=>(r.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&n()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e,n]),r.useEffect(()=>(document.body.style.overflow=e?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[e]),t.jsx(d,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx(l.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50",onClick:c?n:void 0}),t.jsxs(l.div,{variants:{hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0}},initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.3,ease:"easeOut"},className:`inline-block w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[o]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-brand-secondary-bg shadow-xl rounded-lg relative`,children:[(a||s)&&t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a&&t.jsx("h3",{className:"text-lg font-serif font-semibold text-brand-primary-text",children:a}),s&&t.jsx("button",{onClick:n,className:"text-brand-secondary-text hover:text-brand-primary-text transition-colors p-1",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"text-brand-primary-text",children:i}),m&&t.jsx("div",{className:"mt-6 pt-4 border-t border-brand-accent border-opacity-20",children:m})]})]})})})),I=({children:e,delay:r=0,duration:n=y.duration.default,className:a="",inView:i=!1})=>{const o=N(),s={hidden:{opacity:0},visible:{opacity:1,transition:{duration:o?y.reducedMotion.duration:n,delay:o?0:r,ease:o?"linear":y.easing.default}}};return i?t.jsx(l.div,{variants:s,initial:"hidden",whileInView:"visible",viewport:y.viewport,className:a,children:e}):t.jsx(l.div,{variants:s,initial:"hidden",animate:"visible",className:a,children:e})},F=({children:e,delay:r=0,duration:n=y.duration.default,distance:a=y.distance.default,className:i="",inView:o=!1})=>{const s=N(),d=s?y.reducedMotion.duration:n,c=s?0:r,m={hidden:{opacity:0,y:s?y.reducedMotion.distance:a},visible:{opacity:1,y:0,transition:{duration:d,delay:c,ease:s?"linear":y.easing.default}}};return o?t.jsx(l.div,{variants:m,initial:"hidden",whileInView:"visible",viewport:y.viewport,className:i,children:e}):t.jsx(l.div,{variants:m,initial:"hidden",animate:"visible",className:i,children:e})},U=({children:e,speed:n=y.parallax.default,className:a="",direction:i="up"})=>{const o=r.useRef(null),{scrollYProgress:s}=c({target:o,offset:["start end","end start"]}),d=N(),h=n*(d?0:50),u=m(s,[0,1],"up"===i?[h,-h]:[-h,h]);return d?t.jsx("div",{ref:o,className:a,children:e}):t.jsx(l.div,{ref:o,style:{y:u},className:a,children:e})},H=({children:e,className:r="",staggerDelay:n=y.stagger.default,inView:a=!0})=>{const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:N()?0:n}}};return a?t.jsx(l.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:y.viewport,className:r,children:e}):t.jsx(l.div,{variants:i,initial:"hidden",animate:"visible",className:r,children:e})},q=({children:e,className:r=""})=>{const n=N(),a={hidden:{opacity:0,y:n?0:y.distance.small},visible:{opacity:1,y:0,transition:{duration:n?y.reducedMotion.duration:y.duration.default,ease:n?"linear":y.easing.default}}};return t.jsx(l.div,{variants:a,className:r,children:e})},G=({children:e,requireAuth:r=!0,requireRole:i=[],redirectTo:o="/login"})=>{const{user:s,loading:l,isAuthenticated:d}=v(),c=n();return l?t.jsx("div",{className:"min-h-screen bg-brand-primary-bg flex items-center justify-center",children:t.jsx(I,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-brand-accent border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-brand-secondary-text",children:"Loading..."})]})})}):r&&!d?t.jsx(a,{to:o,state:{from:c},replace:!0}):i.length>0&&s&&!i.includes(s.role)?t.jsx("div",{className:"min-h-screen bg-brand-primary-bg flex items-center justify-center p-4",children:t.jsx(I,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{className:"text-2xl font-serif text-brand-primary-text mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-brand-secondary-text",children:"You don't have permission to access this page."})]})})}):t.jsx(t.Fragment,{children:e})},J=({course:e,onEnroll:r,onViewDetails:n,showEnrollButton:a=!0,isEnrolled:i=!1,className:o="",index:s=0})=>{const d=0===e.pricing,c=`${e.instructor.firstName} ${e.instructor.lastName}`,m=N(),h=()=>{n&&n(e.id)},u=e=>0===e?"Free":`$${e}`,b={hidden:{opacity:0,y:m?0:30},visible:{opacity:1,y:0,transition:{duration:m?.01:.6,delay:m?0:.15*s,ease:[.25,.1,.25,1]}}};return t.jsx(l.article,{variants:b,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:`group relative cursor-pointer ${o}`,onClick:h,"data-testid":`course-card-${e.id}`,role:"article","aria-label":`Course: ${e.title}`,children:t.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-surface-card border-subtle shadow-card transition-all duration-400 ease-smooth group-hover:shadow-card-hover group-hover:-translate-y-1",children:[t.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[e.thumbnailUrl?t.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 ease-smooth group-hover:scale-110",loading:"lazy"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface-elevated",children:t.jsx("div",{className:"text-5xl transition-transform duration-300 group-hover:scale-110","aria-hidden":"true",children:"ðŸ“š"})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 transition-opacity duration-400 group-hover:opacity-70","aria-hidden":"true"}),t.jsx("div",{className:"absolute inset-0 bg-brand-accent/0 transition-all duration-400 group-hover:bg-brand-accent/5","aria-hidden":"true"}),t.jsx("div",{className:"absolute top-4 right-4 z-10",children:t.jsx("span",{className:`\n                inline-flex items-center px-3 py-1.5 rounded-full text-sm font-semibold\n                backdrop-blur-md border shadow-lg\n                ${d?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-brand-accent/20 text-brand-accent-light border-brand-accent/30"}\n              `,children:u(e.pricing)})}),i&&t.jsx("div",{className:"absolute top-4 left-4 z-10",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-semibold bg-brand-accent/30 text-white border border-brand-accent/40 backdrop-blur-md",children:[t.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Enrolled"]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-heading-md font-serif font-semibold text-brand-primary-text mb-2 line-clamp-2 transition-colors duration-300 group-hover:text-brand-accent-light",children:e.title}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-accent/20 flex items-center justify-center text-xs text-brand-accent font-medium",children:e.instructor.firstName.charAt(0)}),t.jsx("p",{className:"text-body-sm text-brand-secondary-text",children:c})]}),t.jsx("p",{className:"text-body-sm text-brand-secondary-text mb-4 line-clamp-2",children:e.description}),t.jsxs("div",{className:"flex items-center gap-4 text-caption text-brand-muted-text mb-5 pb-5 border-b border-white/5",children:[t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.duration]}),t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.t.lessons," lessons"]}),t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.t.enrollments," students"]})]}),a&&!i&&t.jsx(M,{variant:d?"primary":"secondary",size:"md",onClick:t=>{t.stopPropagation(),r&&r(e.id)},className:"w-full shadow-button hover:shadow-button-hover","data-testid":`enroll-button-${e.id}`,children:d?"Start Learning Free":`Enroll for ${u(e.pricing)}`}),i&&t.jsx(M,{variant:"primary",size:"md",onClick:h,className:"w-full","data-testid":`continue-button-${e.id}`,rightIcon:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),children:"Continue Learning"})]})]})})},Y=({enabled:e=!1})=>(r.useEffect(()=>{if(!e)return;(()=>{new PerformanceObserver(e=>{const r=e.getEntries();r[r.length-1].startTime}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const r=e;r.processingStart,r.startTime})}).observe({entryTypes:["first-input"]});let e=0;new PerformanceObserver(r=>{r.getEntries().forEach(r=>{const t=r;t.hadRecentInput||(e+=t.value)})}).observe({entryTypes:["layout-shift"]})})(),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{})}).observe({entryTypes:["longtask"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const r=e;r.duration,r.transferSize})}).observe({entryTypes:["resource"]});const r=setInterval(()=>{if("memory"in performance){const e=performance.memory;e.usedJSHeapSize,e.jsHeapSizeLimit}},3e4);return()=>{clearInterval(r)}},[e]),null),Q=({children:e})=>(r.useEffect(()=>{if(!document.getElementById("critical-css")){const e=document.createElement("style");e.id="critical-css",e.textContent="\n  /* Critical styles for above-the-fold content */\n  \n  /* Reset and base styles */\n  *, *::before, *::after {\n    box-sizing: border-box;\n  }\n  \n  html {\n    line-height: 1.15;\n    -webkit-text-size-adjust: 100%;\n  }\n  \n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #F6C1CC;\n    color: #2B2B2E;\n  }\n  \n  /* Loading spinner for initial load */\n  .initial-loading {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #F6C1CC;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 9999;\n  }\n  \n  .initial-loading .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid #F9D6DC;\n    border-top: 3px solid #2B2B2E;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  /* Prevent layout shift for images */\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n  \n  /* Critical navigation styles */\n  .nav-critical {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 64px;\n    background-color: rgba(246, 193, 204, 0.95);\n    backdrop-filter: blur(10px);\n    z-index: 1000;\n    border-bottom: 1px solid rgba(43, 43, 46, 0.1);\n  }\n  \n  /* Critical hero section styles */\n  .hero-critical {\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #F6C1CC;\n    padding-top: 64px;\n  }\n  \n  /* Critical button styles */\n  .btn-critical {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 12px 24px;\n    border-radius: 6px;\n    font-weight: 500;\n    text-decoration: none;\n    transition: all 0.2s ease;\n    border: none;\n    cursor: pointer;\n  }\n  \n  .btn-primary-critical {\n    background-color: #2B2B2E;\n    color: white;\n  }\n  \n  .btn-primary-critical:hover {\n    background-color: #C89AA6;\n  }\n  \n  .btn-secondary-critical {\n    background-color: transparent;\n    color: #2B2B2E;\n    border: 2px solid #2B2B2E;\n  }\n  \n  .btn-secondary-critical:hover {\n    background-color: #2B2B2E;\n    color: white;\n  }\n  \n  /* Prevent flash of invisible text */\n  @font-face {\n    font-family: 'Playfair Display';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: local('Playfair Display'), local('PlayfairDisplay-Regular');\n  }\n  \n  @font-face {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-display: swap;\n    src: local('Inter'), local('Inter-Regular');\n  }\n  \n  /* Critical responsive utilities */\n  @media (max-width: 640px) {\n    .hero-critical {\n      padding: 80px 16px 40px;\n      text-align: center;\n    }\n    \n    .nav-critical {\n      height: 56px;\n    }\n  }\n",document.head.insertBefore(e,document.head.firstChild)}const e=document.getElementById("initial-loading");return e&&(e.style.opacity="0",setTimeout(()=>{e.remove()},300)),()=>{}},[]),t.jsx(t.Fragment,{children:e}));class K extends r.Component{constructor(r){var t;super(r),((r,t,n)=>{t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n})(this,"symbol"!=typeof(t="handleRetry")?t+"":t,()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),this.props.onError&&this.props.onError(e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-[400px] flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-brand-error bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-brand-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-brand-primary-text mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-brand-secondary-text mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(M,{onClick:this.handleRetry,variant:"primary",size:"md",fullWidth:!0,children:"Try Again"}),t.jsx(M,{onClick:()=>window.location.reload(),variant:"secondary",size:"md",fullWidth:!0,children:"Refresh Page"})]}),this.props.showDetails&&!1]})}):this.props.children}}const X=({size:e="md",color:r="primary",className:n=""})=>t.jsx(l.div,{className:`${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[e]} ${{primary:"text-brand-accent",secondary:"text-brand-secondary-text",accent:"text-brand-accent-light",white:"text-white"}[r]} ${n}`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),Z=({message:e="Loading...",size:r="md",fullScreen:n=!1,className:a=""})=>{const i={sm:{spinner:"md",text:"text-sm",spacing:"space-y-2",padding:"p-4"},md:{spinner:"lg",text:"text-base",spacing:"space-y-3",padding:"p-6"},lg:{spinner:"xl",text:"text-lg",spacing:"space-y-4",padding:"p-8"}}[r],o=t.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`flex flex-col items-center justify-center ${i.spacing} ${i.padding} ${a}`,children:[t.jsx(X,{size:i.spinner}),t.jsx("p",{className:`${i.text} text-brand-secondary-text font-medium`,children:e})]});return n?t.jsx("div",{className:"fixed inset-0 bg-brand-primary-bg bg-opacity-75 backdrop-blur-sm z-50 flex items-center justify-center",children:t.jsx("div",{className:"bg-brand-secondary-bg rounded-lg shadow-lg border border-brand-accent border-opacity-20",children:o})}):o},ee=({title:e,message:r,type:n="error",onRetry:a,onDismiss:i,retryLabel:o="Try Again",dismissLabel:s="Dismiss",showIcon:d=!0,className:c=""})=>{const m={error:{bgColor:"bg-brand-error bg-opacity-10",borderColor:"border-brand-error border-opacity-30",iconColor:"text-brand-error",textColor:"text-brand-error",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})},warning:{bgColor:"bg-brand-warning bg-opacity-10",borderColor:"border-brand-warning border-opacity-30",iconColor:"text-brand-warning",textColor:"text-brand-warning",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})},info:{bgColor:"bg-brand-accent bg-opacity-10",borderColor:"border-brand-accent border-opacity-30",iconColor:"text-brand-accent",textColor:"text-brand-accent",icon:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}}[n];return t.jsx(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`\n        ${m.bgColor} ${m.borderColor}\n        border rounded-lg p-4 ${c}\n      `,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[d&&t.jsx("div",{className:`flex-shrink-0 ${m.iconColor}`,children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.icon})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[e&&t.jsx("h4",{className:`text-sm font-medium ${m.textColor} mb-1`,children:e}),t.jsx("p",{className:"text-sm text-brand-primary-text",children:r}),(a||i)&&t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a&&t.jsx(M,{onClick:a,variant:"secondary",size:"sm",children:o}),i&&t.jsx(M,{onClick:i,variant:"ghost",size:"sm",children:s})]})]}),i&&t.jsx("button",{onClick:i,className:`flex-shrink-0 ${m.iconColor} hover:opacity-75 transition-opacity`,"aria-label":"Dismiss",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},re=({className:e="",showWhenOnline:n=!1})=>{const{isOffline:a,getOfflineDuration:i}=((e={})=>{const{pingUrl:t="/api/health",pingInterval:n=3e4,timeout:a=5e3,onOnline:i,onOffline:o}=e,[s,l]=r.useState(navigator.onLine),[d,c]=r.useState(navigator.onLine?new Date:null),m=r.useCallback(async()=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),a),n=await fetch(t,{method:"HEAD",cache:"no-cache",signal:e.signal});return clearTimeout(r),n.ok}catch(e){return!1}},[t,a]),h=r.useCallback(e=>{const r=s;l(e),e?(c(new Date),!r&&i&&i()):r&&o&&o()},[s,i,o]);r.useEffect(()=>{const e=()=>h(!0),r=()=>h(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[h]),r.useEffect(()=>{if(!s)return;const e=setInterval(async()=>{!(await m())&&s&&h(!1)},n);return()=>clearInterval(e)},[s,m,n,h]);const u=r.useCallback(async()=>{const e=await m();return h(e),e},[m,h]),b=r.useCallback(()=>s||!d?null:Date.now()-d.getTime(),[s,d]);return{isOnline:s,isOffline:!s,lastOnlineTime:d,forceCheck:u,getOfflineDuration:b}})(),o=a||n;return t.jsx(d,{children:o&&t.jsx(l.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`\n            fixed top-0 left-0 right-0 z-50 \n            ${a?"bg-brand-error text-white":"bg-brand-success text-white"}\n            ${e}\n          `,children:t.jsx("div",{className:"container mx-auto px-4 py-2",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm font-medium",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-white"}),a?t.jsxs("span",{children:["You're offline",i()&&t.jsxs("span",{className:"ml-1 opacity-75",children:["â€¢ ",(e=>{if(!e)return"";const r=Math.floor(e/1e3),t=Math.floor(r/60),n=Math.floor(t/60);return n>0?`${n}h ${t%60}m`:t>0?`${t}m ${r%60}s`:`${r}s`})(i())]})]}):t.jsx("span",{children:"You're back online"})]})})})})},te=({className:e})=>t.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),ne=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),ae=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),ie=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),oe=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),se=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),le=({className:e})=>t.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),de=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),ce=({children:e,title:a,breadcrumbs:l=[]})=>{var d,c,m,h;const[u,b]=r.useState(!1),[p,x]=r.useState(!1),{user:g,logout:f}=v(),y=n(),N=i();o.useEffect(()=>{const e=()=>{x(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),o.useEffect(()=>{p&&b(!1)},[y.pathname,p]);const w=[{id:"dashboard",label:"Dashboard",icon:te,href:"/admin"},{id:"users",label:"User Management",icon:ne,href:"/admin/users"},{id:"courses",label:"Course Management",icon:ae,href:"/admin/courses"},{id:"finance",label:"Financial Dashboard",icon:ie,href:"/admin/finance"},{id:"scholarships",label:"Scholarships",icon:ne,href:"/admin/scholarships"},{id:"analytics",label:"Analytics",icon:oe,href:"/admin/analytics"},{id:"projects",label:"Project Portfolio",icon:se,href:"/admin/projects"},{id:"settings",label:"System Settings",icon:le,href:"/admin/settings"},{id:"security",label:"Security & Audit",icon:de,href:"/admin/security"}],k=e=>y.pathname===e||y.pathname.startsWith(e+"/");return t.jsxs("div",{className:"min-h-screen bg-brand-primary-bg",children:[t.jsx(re,{}),u&&t.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>b(!1),children:t.jsx("div",{className:"fixed inset-0 bg-brand-primary-bg bg-opacity-75"})}),t.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-brand-secondary-bg shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 "+(u?"translate-x-0":"-translate-x-full"),children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6 border-b border-brand-accent border-opacity-20",children:[t.jsxs("div",{className:"flex items-center min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-brand-accent to-brand-accent-light rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"MS"})}),t.jsx("span",{className:"ml-2 text-lg font-semibold text-brand-primary-text truncate",children:"Admin Panel"})]}),t.jsx("button",{onClick:()=>b(!1),className:"lg:hidden p-1 rounded-md text-brand-secondary-text hover:text-brand-primary-text hover:bg-brand-tertiary-bg flex-shrink-0","aria-label":"Close sidebar",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("nav",{className:"mt-6 px-3 pb-20 overflow-y-auto",children:t.jsx("div",{className:"space-y-1",children:w.map(e=>t.jsxs(s,{to:e.href,className:"group flex items-center px-3 py-2.5 text-sm font-medium rounded-md transition-colors "+(k(e.href)?"bg-brand-accent bg-opacity-20 text-brand-accent border-r-2 border-brand-accent":"text-brand-secondary-text hover:bg-brand-tertiary-bg hover:text-brand-primary-text"),children:[t.jsx(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0 "+(k(e.href)?"text-brand-accent":"text-brand-muted-text group-hover:text-brand-secondary-text")}),t.jsx("span",{className:"truncate",children:e.label}),e.badge&&t.jsx("span",{className:"ml-auto bg-brand-error bg-opacity-20 text-brand-error text-xs px-2 py-1 rounded-full flex-shrink-0",children:e.badge})]},e.id))})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-brand-accent border-opacity-20 bg-brand-secondary-bg",children:t.jsxs("div",{className:"flex items-center min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-brand-accent bg-opacity-20 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-brand-accent text-sm font-medium",children:(null==(d=null==g?void 0:g.firstName)?void 0:d[0])||(null==(c=null==g?void 0:g.email)?void 0:c[0])||"A"})}),t.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-brand-primary-text truncate",children:(null==g?void 0:g.firstName)?`${g.firstName} ${g.lastName||""}`:null==g?void 0:g.email}),t.jsx("p",{className:"text-xs text-brand-secondary-text capitalize truncate",children:null==g?void 0:g.role})]}),t.jsx("button",{onClick:()=>{f(),N("/login")},className:"ml-2 p-1 text-brand-secondary-text hover:text-brand-primary-text hover:bg-brand-tertiary-bg rounded-md flex-shrink-0",title:"Logout","aria-label":"Logout",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]}),t.jsxs("div",{className:"lg:pl-64",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-brand-secondary-bg shadow-sm border-b border-brand-accent border-opacity-20",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[t.jsx("button",{onClick:()=>b(!0),className:"lg:hidden p-2 rounded-md text-brand-secondary-text hover:text-brand-primary-text hover:bg-brand-tertiary-bg mr-2 flex-shrink-0","aria-label":"Open sidebar",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-brand-primary-text truncate",children:a}),l.length>0&&t.jsx("nav",{className:"flex mt-1 overflow-x-auto","aria-label":"Breadcrumb",children:t.jsx("ol",{className:"flex items-center space-x-2 text-sm text-brand-secondary-text whitespace-nowrap",children:l.map((e,r)=>t.jsxs("li",{className:"flex items-center flex-shrink-0",children:[r>0&&t.jsx("svg",{className:"w-4 h-4 mx-2 text-brand-muted-text flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href?t.jsx(s,{to:e.href,className:"hover:text-brand-primary-text truncate",children:e.label}):t.jsx("span",{className:"text-brand-primary-text truncate",children:e.label})]},r))})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[t.jsx("button",{className:"p-2 text-brand-secondary-text hover:text-brand-primary-text hover:bg-brand-tertiary-bg rounded-md","aria-label":"Notifications",children:t.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.07 2.82l3.12 3.12M7.05 5.84l3.12 3.12M4.03 8.86l3.12 3.12M1.01 11.88l3.12 3.12"})})}),t.jsx("div",{className:"lg:hidden",children:t.jsx("button",{className:"p-2 text-brand-secondary-text hover:text-brand-primary-text hover:bg-brand-tertiary-bg rounded-md","aria-label":"User menu",children:t.jsx("div",{className:"w-6 h-6 bg-brand-accent bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-brand-accent text-xs font-medium",children:(null==(m=null==g?void 0:g.firstName)?void 0:m[0])||(null==(h=null==g?void 0:g.email)?void 0:h[0])||"A"})})})})]})]})}),t.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t.jsx(K,{showDetails:!1,onError:(e,r)=>{},children:t.jsx(I,{children:e})})})]})]})},me=({children:e,redirectTo:r="/login"})=>{const{user:i,loading:o,isAuthenticated:s}=v(),l=n();return o?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(I,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})})}):s?i&&"admin"!==i.role?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx(I,{children:t.jsxs("div",{className:"text-center max-w-md",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Admin Access Required"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have administrator privileges to access this area. Please contact your system administrator if you believe this is an error."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Go Back"}),t.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Return to Home"})]}),t.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[t.jsxs("p",{children:["Current role: ",t.jsx("span",{className:"font-medium capitalize",children:null==i?void 0:i.role})]}),t.jsxs("p",{children:["Required role: ",t.jsx("span",{className:"font-medium",children:"Administrator"})]})]})]})})}):t.jsx(t.Fragment,{children:e}):t.jsx(a,{to:r,state:{from:l},replace:!0})},he=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),ue=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),be=()=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-brand-tertiary-bg rounded w-24 mb-2"}),t.jsx("div",{className:"h-8 bg-brand-tertiary-bg rounded w-32 mb-2"}),t.jsx("div",{className:"h-3 bg-brand-tertiary-bg rounded w-20"})]}),pe=({title:e,value:r,change:n,icon:a,iconBgColor:i="bg-brand-accent bg-opacity-20",iconColor:o="text-brand-accent",loading:s=!1,onClick:l,className:d=""})=>{const c=!!l,m=`\n    bg-brand-surface-bg rounded-lg shadow-card border border-brand-accent border-opacity-20 p-6\n    ${c?"cursor-pointer hover:shadow-card-hover hover:border-brand-accent hover:border-opacity-40 transition-all":""}\n    ${d}\n  `.trim(),h=s?t.jsx(be,{}):t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-brand-secondary-text mb-1",children:e}),t.jsx("p",{className:"text-2xl font-bold text-brand-primary-text",children:r}),n&&t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsxs("span",{className:"inline-flex items-center text-sm font-medium "+("increase"===n.type?"text-brand-success":"text-brand-error"),children:["increase"===n.type?t.jsx(he,{}):t.jsx(ue,{}),t.jsxs("span",{className:"ml-1",children:["increase"===n.type?"+":"-",Math.abs(n.value),"%"]})]}),t.jsx("span",{className:"ml-2 text-sm text-brand-muted-text",children:n.period})]})]}),a&&t.jsx("div",{className:`w-12 h-12 ${i} rounded-lg flex items-center justify-center flex-shrink-0`,children:t.jsx("div",{className:o,children:a})})]});return c?t.jsx("button",{onClick:l,className:m,type:"button",children:h}):t.jsx("div",{className:m,children:h})},xe={Users:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Courses:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Revenue:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Enrollments:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Activity:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Warning:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Alert:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},ge=Object.freeze(Object.defineProperty({__proto__:null,default:()=>t.jsx(ce,{title:"Admin Dashboard",children:t.jsx(I,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-brand-surface-bg rounded-lg shadow-card border border-brand-accent border-opacity-20 p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-primary-text mb-2",children:"Welcome to Motion Studio Admin Panel"}),t.jsx("p",{className:"text-brand-secondary-text",children:"Manage users, courses, payments, and platform settings from this centralized dashboard."})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsx(pe,{title:"Total Users",value:"-",icon:xe.Users,iconBgColor:"bg-brand-accent bg-opacity-20",iconColor:"text-brand-accent"}),t.jsx(pe,{title:"Active Courses",value:"-",icon:xe.Courses,iconBgColor:"bg-brand-success bg-opacity-20",iconColor:"text-brand-success"}),t.jsx(pe,{title:"Monthly Revenue",value:"-",icon:xe.Revenue,iconBgColor:"bg-brand-accent-light bg-opacity-20",iconColor:"text-brand-accent-light"}),t.jsx(pe,{title:"Enrollments",value:"-",icon:xe.Enrollments,iconBgColor:"bg-brand-warning bg-opacity-20",iconColor:"text-brand-warning"})]}),t.jsxs("div",{className:"bg-brand-surface-bg rounded-lg shadow-card border border-brand-accent border-opacity-20 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-brand-primary-text mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"text-center py-8 text-brand-secondary-text",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-brand-muted-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),t.jsx("p",{children:"No recent activity to display"}),t.jsx("p",{className:"text-sm",children:"Activity will appear here as users interact with the platform"})]})]}),t.jsxs("div",{className:"bg-brand-surface-bg rounded-lg shadow-card border border-brand-accent border-opacity-20 p-4 sm:p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-brand-primary-text mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsx("button",{className:"p-4 border border-brand-accent border-opacity-20 rounded-lg hover:bg-brand-tertiary-bg transition-colors text-left touch-manipulation",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-accent bg-opacity-20 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:t.jsx("svg",{className:"w-5 h-5 text-brand-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-brand-primary-text truncate",children:"Add New User"}),t.jsx("p",{className:"text-sm text-brand-secondary-text truncate",children:"Create instructor or admin account"})]})]})}),t.jsx("button",{className:"p-4 border border-brand-accent border-opacity-20 rounded-lg hover:bg-brand-tertiary-bg transition-colors text-left touch-manipulation",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-success bg-opacity-20 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:t.jsx("svg",{className:"w-5 h-5 text-brand-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-brand-primary-text truncate",children:"Generate Report"}),t.jsx("p",{className:"text-sm text-brand-secondary-text truncate",children:"Export platform analytics"})]})]})}),t.jsx("button",{className:"p-4 border border-brand-accent border-opacity-20 rounded-lg hover:bg-brand-tertiary-bg transition-colors text-left touch-manipulation sm:col-span-2 lg:col-span-1",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-accent-light bg-opacity-20 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:t.jsxs("svg",{className:"w-5 h-5 text-brand-accent-light",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"font-medium text-brand-primary-text truncate",children:"System Settings"}),t.jsx("p",{className:"text-sm text-brand-secondary-text truncate",children:"Configure platform options"})]})]})})]})]})]})})})},Symbol.toStringTag,{value:"Module"})),fe=({searchPlaceholder:e="Search...",filters:n=[],onSearch:a,onFilter:i,searchValue:o="",filterValues:s={},debounceMs:l=300})=>{const[d,c]=r.useState(o),[m,h]=r.useState(s),[u,b]=r.useState(!1),p=r.useRef();r.useEffect(()=>{c(o)},[o]),r.useEffect(()=>{h(s)},[s]);const x=r.useCallback(e=>{c(e),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{a(e)},l)},[a,l]),g=r.useCallback(()=>{c(""),a("")},[a]),f=r.useCallback((e,r)=>{const t={...m,[e]:r};h(t),i(t)},[m,i]),v=r.useCallback(()=>{h({}),i({})},[i]),y=Object.values(m).filter(e=>"string"==typeof e?""!==e:"start"in e||"end"in e?e.start||e.end:("min"in e||"max"in e)&&(null!==e.min||null!==e.max)).length;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",value:d,onChange:e=>x(e.target.value),placeholder:e,className:"block w-full pl-10 pr-10 py-3 sm:py-2.5 border border-gray-300 rounded-lg text-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation"}),d&&t.jsx("button",{onClick:g,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 touch-manipulation","aria-label":"Clear search",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.length>0&&t.jsxs("button",{onClick:()=>b(!u),className:"inline-flex items-center justify-center px-4 py-3 sm:py-2.5 border rounded-lg text-sm font-medium transition-colors touch-manipulation "+(u||y>0?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:[t.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),t.jsx("span",{className:"whitespace-nowrap",children:"Filters"}),y>0&&t.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full flex-shrink-0",children:y})]})]}),u&&n.length>0&&t.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Filters"}),y>0&&t.jsx("button",{onClick:v,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear all"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.map(e=>{var r,n,a,i;return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:e.label}),"select"===e.type&&e.options&&t.jsxs("select",{value:m[e.key]||"",onChange:r=>f(e.key,r.target.value),className:"block w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation",children:[t.jsx("option",{value:"",children:"All"}),e.options.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}),"date-range"===e.type&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("input",{type:"date",value:(null==(r=m[e.key])?void 0:r.start)||"",onChange:r=>f(e.key,{...m[e.key]||{},start:r.target.value}),className:"block w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation",placeholder:"Start"}),t.jsx("input",{type:"date",value:(null==(n=m[e.key])?void 0:n.end)||"",onChange:r=>f(e.key,{...m[e.key]||{},end:r.target.value}),className:"block w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation",placeholder:"End"})]}),"number-range"===e.type&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("input",{type:"number",value:(null==(a=m[e.key])?void 0:a.min)??"",onChange:r=>f(e.key,{...m[e.key]||{},min:r.target.value?Number(r.target.value):null}),className:"block w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation",placeholder:"Min"}),t.jsx("input",{type:"number",value:(null==(i=m[e.key])?void 0:i.max)??"",onChange:r=>f(e.key,{...m[e.key]||{},max:r.target.value?Number(r.target.value):null}),className:"block w-full px-3 py-3 sm:py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 touch-manipulation",placeholder:"Max"})]})]},e.key)})})]})]})},ve=({isOpen:e,title:r,message:n,confirmLabel:a="Confirm",cancelLabel:i="Cancel",variant:o="default",onConfirm:s,onCancel:l,isLoading:d=!1})=>e?t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:l}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 transform transition-all",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center "+("danger"===o?"bg-red-100":"bg-blue-100"),children:"danger"===o?t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"ml-4 flex-1",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:n})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:l,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i}),t.jsxs("button",{type:"button",onClick:s,disabled:d,className:"px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 disabled:opacity-50 inline-flex items-center gap-2 "+("danger"===o?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"),children:[d&&t.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})]})]})]})}):null;function ye({selectedItems:e,actions:n,onClearSelection:a,itemLabel:i="item",className:o=""}){const[s,l]=r.useState(null),[d,c]=r.useState(!1),m=e.length,h=1===m?i:`${i}s`,u=r.useCallback(e=>{e.confirmationMessage?l(e):b(e)},[e]),b=r.useCallback(async r=>{c(!0);try{await r.action(e),l(null),null==a||a()}catch(t){}finally{c(!1)}},[e,a]),p=r.useCallback(()=>{s&&b(s)},[s,b]),x=r.useCallback(()=>{l(null)},[]);return 0===m?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`bg-blue-50 border border-blue-200 rounded-lg p-4 ${o}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full text-sm font-medium",children:m}),t.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[m," ",h," selected"]}),a&&t.jsx("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Clear selection"})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.map(e=>t.jsxs("button",{onClick:()=>u(e),disabled:e.disabled||d,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed "+("danger"===e.variant?"text-red-700 bg-red-100 hover:bg-red-200":"text-blue-700 bg-blue-100 hover:bg-blue-200"),children:[e.icon,e.label]},e.id))})]})}),t.jsx(ve,{isOpen:!!s,title:`Confirm ${(null==s?void 0:s.label)||"Action"}`,message:(null==s?void 0:s.confirmationMessage)||`Are you sure you want to perform this action on ${m} ${h}?`,confirmLabel:null==s?void 0:s.label,variant:null==s?void 0:s.variant,onConfirm:p,onCancel:x,isLoading:d})]})}const Ne={Delete:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Activate:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Suspend:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})},we="http://localhost:5000/api",ke=({onClose:e,onSuccess:n,token:a})=>{const[i,o]=r.useState({studentId:"",courseId:"",discountPercentage:100,reason:"",expiresAt:""}),[s,l]=r.useState(!1),[d,c]=r.useState(null),[m,h]=r.useState([]),[u,b]=r.useState([]),[p,x]=r.useState(""),[g,f]=r.useState("");r.useEffect(()=>{(async()=>{if(a)try{const e=new URLSearchParams;p&&e.append("search",p),i.courseId&&e.append("courseId",i.courseId);const r=await fetch(`${we}/api/admin/scholarships/eligible/students?${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();h(e.students)}}catch(e){}})()},[a,p,i.courseId]),r.useEffect(()=>{(async()=>{if(a)try{const e=new URLSearchParams;g&&e.append("search",g);const r=await fetch(`${we}/api/admin/scholarships/available/courses?${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();b(e.courses)}}catch(e){}})()},[a,g]);const v=u.find(e=>e.id===i.courseId),y=v?(v.pricing*i.discountPercentage/100).toFixed(2):"0.00";return t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Grant Scholarship"}),d&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:d}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){l(!0),c(null);try{const e=await fetch(`${we}/api/admin/scholarships`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({...i,expiresAt:i.expiresAt||void 0})});if(!e.ok){const r=await e.json();throw new Error(r.error||"Failed to create scholarship")}n()}catch(r){c(r instanceof Error?r.message:"An error occurred")}finally{l(!1)}}},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student"}),t.jsx("input",{type:"text",placeholder:"Search students...",value:p,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),t.jsxs("select",{value:i.studentId,onChange:e=>o({...i,studentId:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select a student..."}),m.map(e=>t.jsxs("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.email,")"]},e.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),t.jsx("input",{type:"text",placeholder:"Search courses...",value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),t.jsxs("select",{value:i.courseId,onChange:e=>o({...i,courseId:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select a course..."}),u.map(e=>t.jsxs("option",{value:e.id,children:[e.title," ($",e.pricing,")"]},e.id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Discount Percentage: ",i.discountPercentage,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:i.discountPercentage,onChange:e=>o({...i,discountPercentage:parseInt(e.target.value)}),className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"0%"}),t.jsx("span",{children:"50%"}),t.jsx("span",{children:"100% (Full)"})]}),v&&t.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Scholarship value: ",t.jsxs("span",{className:"font-medium",children:["$",y]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),t.jsx("textarea",{value:i.reason,onChange:e=>o({...i,reason:e.target.value}),required:!0,rows:3,placeholder:"Enter the reason for granting this scholarship...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date (Optional)"}),t.jsx("input",{type:"date",value:i.expiresAt,onChange:e=>o({...i,expiresAt:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Creating...":"Grant Scholarship"})]})]})]})]})})},Ce=({onClose:e,onSuccess:n,token:a})=>{const[i,o]=r.useState({studentId:"",courseId:"",reason:""}),[s,l]=r.useState(!1),[d,c]=r.useState(null),[m,h]=r.useState([]),[u,b]=r.useState([]),[p,x]=r.useState(""),[g,f]=r.useState("");return r.useEffect(()=>{(async()=>{if(a)try{const e=new URLSearchParams;p&&e.append("search",p);const r=await fetch(`${we}/api/admin/scholarships/eligible/students?${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();h(e.students)}}catch(e){}})()},[a,p]),r.useEffect(()=>{(async()=>{if(a)try{const e=new URLSearchParams;g&&e.append("search",g);const r=await fetch(`${we}/api/admin/scholarships/available/courses?${e}`,{headers:{Authorization:`Bearer ${a}`}});if(r.ok){const e=await r.json();b(e.courses)}}catch(e){}})()},[a,g]),t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Manual Enrollment"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enroll a student in a course without requiring payment. This bypasses the normal payment flow."}),d&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:d}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){l(!0),c(null);try{const e=await fetch(`${we}/api/admin/enrollments/manual`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!e.ok){const r=await e.json();throw new Error(r.error||"Failed to enroll student")}n()}catch(r){c(r instanceof Error?r.message:"An error occurred")}finally{l(!1)}}},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student"}),t.jsx("input",{type:"text",placeholder:"Search students...",value:p,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),t.jsxs("select",{value:i.studentId,onChange:e=>o({...i,studentId:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select a student..."}),m.map(e=>t.jsxs("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.email,")"]},e.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),t.jsx("input",{type:"text",placeholder:"Search courses...",value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),t.jsxs("select",{value:i.courseId,onChange:e=>o({...i,courseId:e.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select a course..."}),u.map(e=>t.jsxs("option",{value:e.id,children:[e.title," ($",e.pricing,")"]},e.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Manual Enrollment"}),t.jsx("textarea",{value:i.reason,onChange:e=>o({...i,reason:e.target.value}),required:!0,rows:3,placeholder:"Enter the reason for this manual enrollment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Enrolling...":"Enroll Student"})]})]})]})]})})},Le=({scholarship:e,onClose:r,onRevoke:n})=>{const a=(e.course.pricing*e.discountPercentage/100).toFixed(2);return t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:r}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Scholarship Details"}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("active"===e.status?"bg-green-100 text-green-700":"revoked"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Student"}),t.jsxs("p",{className:"font-medium text-gray-900",children:[e.student.firstName," ",e.student.lastName]}),t.jsx("p",{className:"text-sm text-gray-500",children:e.student.email})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Course"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.course.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Original price: $",e.course.pricing]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Discount"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.discountPercentage,"%"]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Value"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",a]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reason"}),t.jsx("p",{className:"text-gray-900",children:e.reason})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Granted:"}),t.jsx("p",{className:"font-medium",children:new Date(e.grantedAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Expires:"}),t.jsx("p",{className:"font-medium",children:e.expiresAt?new Date(e.expiresAt).toLocaleDateString():"Never"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"}),"active"===e.status&&t.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Revoke Scholarship"})]})]})]})})},je=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{token:e}=v(),[n,a]=r.useState([]),[i,o]=r.useState(null),[s,l]=r.useState(!0),[d,c]=r.useState(null),[m,u]=r.useState({page:1,pageSize:10,totalItems:0}),[b,p]=r.useState({column:"grantedAt",direction:"desc"}),[x,g]=r.useState(""),[f,y]=r.useState({}),[N,w]=r.useState(!1),[k,C]=r.useState(!1),[L,j]=r.useState(null),[$,M]=r.useState(!1),z=r.useCallback(async()=>{if(e)try{const r=await fetch(`${we}/api/admin/scholarships/stats`,{headers:{Authorization:`Bearer ${e}`}});if(r.ok){const e=await r.json();o(e)}}catch(r){}},[e]),B=r.useCallback(async()=>{if(e){l(!0),c(null);try{const r=new URLSearchParams;r.append("page",m.page.toString()),r.append("pageSize",m.pageSize.toString()),x&&r.append("search",x),f.status&&r.append("status",f.status),b.column&&(r.append("sortBy",b.column),r.append("sortOrder",b.direction||"desc"));const t=await fetch(`${we}/api/admin/scholarships?${r}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch scholarships");const n=await t.json();a(n.scholarships),u(e=>({...e,totalItems:n.pagination.totalItems}))}catch(r){c(r instanceof Error?r.message:"An error occurred")}finally{l(!1)}}},[e,m.page,m.pageSize,x,f,b]);r.useEffect(()=>{z(),B()},[z,B]);const S=r.useCallback(e=>{g(e),u(e=>({...e,page:1}))},[]),A=r.useCallback(e=>{y(e),u(e=>({...e,page:1}))},[]),_=r.useCallback((e,r)=>{p({column:e,direction:r})},[]),W=r.useCallback(e=>{u(r=>({...r,page:e}))},[]),P=r.useCallback(e=>{u(r=>({...r,pageSize:e,page:1}))},[]),E=async r=>{if(e&&confirm("Are you sure you want to revoke this scholarship? The student will lose course access if it was a full scholarship."))try{const t=await fetch(`${we}/api/admin/scholarships/${r}/revoke`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to revoke scholarship")}B(),z()}catch(t){alert(t instanceof Error?t.message:"An error occurred")}},O=[{id:"student",header:"Student",accessor:e=>t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[e.student.firstName||""," ",e.student.lastName||""]}),t.jsx("p",{className:"text-sm text-gray-500",children:e.student.email})]}),sortable:!1},{id:"course",header:"Course",accessor:e=>e.course.title,sortable:!1},{id:"discount",header:"Discount",accessor:e=>t.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(100===e.discountPercentage?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:[e.discountPercentage,"%"]}),sortable:!0,align:"center"},{id:"value",header:"Value",accessor:e=>`$${(e.course.pricing*e.discountPercentage/100).toFixed(2)}`,align:"right",hiddenOnMobile:!0},{id:"status",header:"Status",accessor:"status",render:e=>t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("active"===e?"bg-green-100 text-green-700":"revoked"===e?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)}),sortable:!0},{id:"grantedAt",header:"Granted",accessor:e=>new Date(e.grantedAt).toLocaleDateString(),sortable:!0,hiddenOnMobile:!0},{id:"actions",header:"Actions",accessor:()=>null,render:(e,r)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),j(r),M(!0)},className:"p-1 text-gray-500 hover:text-blue-600 transition-colors",title:"View details",children:t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),"active"===r.status&&t.jsx("button",{onClick:e=>{e.stopPropagation(),E(r.id)},className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Revoke scholarship",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})}],T={page:m.page,pageSize:m.pageSize,totalItems:m.totalItems,onPageChange:W,onPageSizeChange:P,pageSizeOptions:[10,25,50,100]},D={column:b.column,direction:b.direction,onSort:_};return t.jsx(ce,{title:"Scholarship Management",breadcrumbs:[{label:"Admin",href:"/admin"},{label:"Scholarships"}],children:t.jsxs("div",{className:"space-y-6",children:[i&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(pe,{title:"Active Scholarships",value:i.activeScholarships,icon:xe.Users,iconBgColor:"bg-green-100",iconColor:"text-green-600"}),t.jsx(pe,{title:"Full Scholarships",value:i.fullScholarships,icon:xe.Enrollments,iconBgColor:"bg-blue-100",iconColor:"text-blue-600"}),t.jsx(pe,{title:"Total Value",value:`$${i.totalScholarshipValue.toFixed(2)}`,icon:xe.Revenue,iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}),t.jsx(pe,{title:"Revoked",value:i.revokedScholarships,icon:xe.Courses,iconBgColor:"bg-red-100",iconColor:"text-red-600"})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-600",children:"Manage scholarships and manual enrollments for students."})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Manual Enroll"]}),t.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Grant Scholarship"]})]})]}),t.jsx(fe,{searchPlaceholder:"Search by student, course, or reason...",filters:[{key:"status",label:"Status",type:"select",options:[{label:"Active",value:"active"},{label:"Expired",value:"expired"},{label:"Revoked",value:"revoked"}]}],onSearch:S,onFilter:A,searchValue:x,filterValues:f}),d&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:d}),t.jsx(h,{data:n,columns:O,loading:s,pagination:T,sorting:D,emptyMessage:"No scholarships found",onRowClick:e=>{j(e),M(!0)}}),N&&t.jsx(ke,{onClose:()=>w(!1),onSuccess:()=>{w(!1),B(),z()},token:e}),k&&t.jsx(Ce,{onClose:()=>C(!1),onSuccess:()=>{C(!1),B()},token:e}),$&&L&&t.jsx(Le,{scholarship:L,onClose:()=>{M(!1),j(null)},onRevoke:()=>{E(L.id),M(!1),j(null)}})]})})}},Symbol.toStringTag,{value:"Module"})),$e="http://localhost:5000/api",Me=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{token:e}=v(),[n,a]=r.useState([]),[i,o]=r.useState(!0),[s,l]=r.useState(null),[d,c]=r.useState([]),[m,u]=r.useState(1),[b,p]=r.useState(10),[x,g]=r.useState(0),[f,y]=r.useState(""),[N,w]=r.useState(""),[k,C]=r.useState(!1),[L,j]=r.useState("create"),[$,M]=r.useState(null),[z,B]=r.useState({title:"",description:"",goal:"",solution:"",motionBreakdown:"",toolsUsed:"",thumbnailUrl:"",caseStudyUrl:"",isPublished:!1}),[S,A]=r.useState({}),[_,W]=r.useState(!1),[P,E]=r.useState(null),[O,T]=r.useState(!1),D=r.useCallback(async()=>{if(e){o(!0),l(null);try{const r=new URLSearchParams({page:m.toString(),pageSize:b.toString(),sortBy:"order",sortOrder:"asc"});f&&r.append("search",f),N&&r.append("status",N);const t=await fetch(`${$e}/api/admin/projects?${r}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch projects");const n=await t.json();a(n.projects),g(n.pagination.totalItems)}catch(r){l(r.message)}finally{o(!1)}}},[e,m,b,f,N]);r.useEffect(()=>{D()},[D]);const V=e=>{j("edit"),M(e),B({title:e.title,description:e.description,goal:e.goal,solution:e.solution,motionBreakdown:e.motionBreakdown,toolsUsed:e.toolsUsed.join(", "),thumbnailUrl:e.thumbnailUrl,caseStudyUrl:e.caseStudyUrl,isPublished:e.isPublished}),A({}),C(!0)},R=async(r,t)=>{try{if(!(await fetch(`${$e}/api/admin/projects/bulk/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({projectIds:r,isPublished:t})})).ok)throw new Error("Failed to update projects");c([]),D()}catch(n){l(n.message)}},I=[{id:"order",header:"Order",accessor:"order",sortable:!0,width:"80px",render:e=>t.jsxs("span",{className:"text-gray-500 font-mono",children:["#",e]})},{id:"thumbnail",header:"Thumbnail",accessor:"thumbnailUrl",width:"100px",render:e=>t.jsx("img",{src:e,alt:"Project thumbnail",className:"w-16 h-12 object-cover rounded",onError:e=>{e.target.src="https://via.placeholder.com/64x48?text=No+Image"}})},{id:"title",header:"Title",accessor:"title",sortable:!0,render:(e,r)=>t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:e}),t.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:r.description})]})},{id:"tools",header:"Tools",accessor:e=>e.toolsUsed.join(", "),hiddenOnMobile:!0,render:(e,r)=>t.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.toolsUsed.slice(0,3).map((e,r)=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:e},r)),r.toolsUsed.length>3&&t.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["+",r.toolsUsed.length-3]})]})},{id:"status",header:"Status",accessor:"isPublished",sortable:!0,render:e=>t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e?"Published":"Draft"})},{id:"createdAt",header:"Created",accessor:"createdAt",sortable:!0,hiddenOnMobile:!0,render:e=>new Date(e).toLocaleDateString()},{id:"actions",header:"Actions",accessor:"id",align:"right",render:(r,n)=>t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:r=>{r.stopPropagation(),(async r=>{try{if(!(await fetch(`${$e}/api/admin/projects/${r.id}/publish`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({isPublished:!r.isPublished})})).ok)throw new Error("Failed to update publication status");D()}catch(t){l(t.message)}})(n)},className:"p-1.5 rounded hover:bg-gray-100 "+(n.isPublished?"text-yellow-600":"text-green-600"),title:n.isPublished?"Unpublish":"Publish",children:n.isPublished?t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.jsx("button",{onClick:e=>{e.stopPropagation(),V(n)},className:"p-1.5 text-blue-600 rounded hover:bg-blue-50",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),t.jsx("button",{onClick:r=>{r.stopPropagation(),(async r=>{if(confirm("Are you sure you want to delete this project?"))try{if(!(await fetch(`${$e}/api/admin/projects/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Failed to delete project");D()}catch(t){l(t.message)}})(n.id)},className:"p-1.5 text-red-600 rounded hover:bg-red-50",title:"Delete",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}],F=[{id:"publish",label:"Publish",icon:Ne.Activate,action:async e=>R(e.map(e=>e.id),!0)},{id:"unpublish",label:"Unpublish",icon:Ne.Suspend,action:async e=>R(e.map(e=>e.id),!1)},{id:"delete",label:"Delete",icon:Ne.Delete,action:async r=>(async r=>{if(confirm(`Are you sure you want to delete ${r.length} projects?`))try{if(!(await fetch(`${$e}/api/admin/projects/bulk/delete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({projectIds:r})})).ok)throw new Error("Failed to delete projects");c([]),D()}catch(t){l(t.message)}})(r.map(e=>e.id)),confirmationMessage:"Are you sure you want to delete the selected projects?"}],U={page:m,pageSize:b,totalItems:x,onPageChange:u,onPageSizeChange:p,pageSizeOptions:[10,25,50]};return t.jsxs(ce,{title:"Project Portfolio Management",breadcrumbs:[{label:"Admin",href:"/admin"},{label:"Projects"}],children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>{j("create"),M(null),B({title:"",description:"",goal:"",solution:"",motionBreakdown:"",toolsUsed:"",thumbnailUrl:"",caseStudyUrl:"",isPublished:!1}),A({}),C(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Project"]}),t.jsxs("button",{onClick:()=>T(!O),className:"inline-flex items-center px-4 py-2 rounded-lg transition-colors "+(O?"bg-green-600 text-white hover:bg-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),O?"Done Reordering":"Reorder Projects"]})]})}),t.jsx(fe,{searchPlaceholder:"Search projects...",filters:[{key:"status",label:"Status",type:"select",options:[{label:"All",value:""},{label:"Published",value:"published"},{label:"Draft",value:"draft"}]}],onSearch:e=>{y(e),u(1)},onFilter:e=>{w(e.status||""),u(1)}}),d.length>0&&t.jsx(ye,{selectedItems:n.filter(e=>d.includes(e.id)),actions:F,onClearSelection:()=>c([])}),s&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[s,t.jsx("button",{onClick:()=>l(null),className:"float-right text-red-500 hover:text-red-700",children:"Ã—"})]}),O?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag and drop projects to reorder them. Changes are saved automatically."}),t.jsx("div",{className:"space-y-2",children:n.map(r=>t.jsxs("div",{draggable:!0,onDragStart:()=>(e=>{E(e)})(r),onDragOver:e=>((e,r)=>{e.preventDefault(),P&&(P.id,r.id)})(e,r),onDrop:()=>(async r=>{if(!P||P.id===r.id)return;const t=[...n],i=t.findIndex(e=>e.id===P.id),o=t.findIndex(e=>e.id===r.id),[s]=t.splice(i,1);t.splice(o,0,s);const d=t.map((e,r)=>({id:e.id,order:r+1}));a(t.map((e,r)=>({...e,order:r+1}))),E(null);try{if(!(await fetch(`${$e}/api/admin/projects/reorder`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({projectOrders:d})})).ok)throw new Error("Failed to reorder projects")}catch(c){l(c.message),D()}})(r),className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg cursor-move hover:bg-gray-100 transition-colors "+((null==P?void 0:P.id)===r.id?"opacity-50":""),children:[t.jsx("div",{className:"text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}),t.jsxs("span",{className:"text-gray-500 font-mono text-sm w-8",children:["#",r.order]}),t.jsx("img",{src:r.thumbnailUrl,alt:r.title,className:"w-12 h-9 object-cover rounded",onError:e=>{e.target.src="https://via.placeholder.com/48x36?text=No+Image"}}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"font-medium text-gray-900",children:r.title})}),t.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(r.isPublished?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:r.isPublished?"Published":"Draft"})]},r.id))})]}):t.jsx(h,{data:n,columns:I,loading:i,pagination:U,selectable:!0,selectedIds:d,onSelectionChange:c,emptyMessage:"No projects found",onRowClick:V})]}),k&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>C(!1)}),t.jsxs("div",{className:"relative inline-block w-full max-w-2xl p-6 my-8 text-left align-middle bg-white rounded-lg shadow-xl transform transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"create"===L?"Create New Project":"Edit Project"}),t.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.submit&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:S.submit}),t.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};z.title.trim()||(e.title="Title is required"),z.description.trim()||(e.description="Description is required"),z.goal.trim()||(e.goal="Goal is required"),z.solution.trim()||(e.solution="Solution is required"),z.motionBreakdown.trim()||(e.motionBreakdown="Motion breakdown is required"),z.thumbnailUrl.trim()||(e.thumbnailUrl="Thumbnail URL is required"),z.caseStudyUrl.trim()||(e.caseStudyUrl="Case study URL is required");const r=/^https?:\/\/.+/;return z.thumbnailUrl&&!r.test(z.thumbnailUrl)&&(e.thumbnailUrl="Invalid URL format"),z.caseStudyUrl&&!r.test(z.caseStudyUrl)&&(e.caseStudyUrl="Invalid URL format"),A(e),0===Object.keys(e).length})()){W(!0);try{const r=z.toolsUsed.split(",").map(e=>e.trim()).filter(e=>e.length>0),t={...z,toolsUsed:r},n="create"===L?`${$e}/api/admin/projects`:`${$e}/api/admin/projects/${null==$?void 0:$.id}`,a=await fetch(n,{method:"create"===L?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!a.ok){const e=await a.json();throw new Error(e.error||"Failed to save project")}C(!1),D()}catch(t){A({submit:t.message})}finally{W(!1)}}},className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:z.title,onChange:e=>B({...z,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.title?"border-red-500":"border-gray-300"),placeholder:"Project title"}),S.title&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.title})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:z.description,onChange:e=>B({...z,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.description?"border-red-500":"border-gray-300"),placeholder:"Brief project description"}),S.description&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.description})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Goal ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:z.goal,onChange:e=>B({...z,goal:e.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.goal?"border-red-500":"border-gray-300"),placeholder:"What was the project goal?"}),S.goal&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.goal})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Solution ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:z.solution,onChange:e=>B({...z,solution:e.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.solution?"border-red-500":"border-gray-300"),placeholder:"How was the goal achieved?"}),S.solution&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.solution})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Motion Breakdown ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:z.motionBreakdown,onChange:e=>B({...z,motionBreakdown:e.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.motionBreakdown?"border-red-500":"border-gray-300"),placeholder:"Describe the motion design approach"}),S.motionBreakdown&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.motionBreakdown})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tools Used"}),t.jsx("input",{type:"text",value:z.toolsUsed,onChange:e=>B({...z,toolsUsed:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"After Effects, Figma, Lottie (comma-separated)"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Separate multiple tools with commas"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thumbnail URL ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"url",value:z.thumbnailUrl,onChange:e=>B({...z,thumbnailUrl:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.thumbnailUrl?"border-red-500":"border-gray-300"),placeholder:"https://example.com/thumbnail.jpg"}),S.thumbnailUrl&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.thumbnailUrl})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Case Study URL ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"url",value:z.caseStudyUrl,onChange:e=>B({...z,caseStudyUrl:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(S.caseStudyUrl?"border-red-500":"border-gray-300"),placeholder:"https://example.com/case-study"}),S.caseStudyUrl&&t.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.caseStudyUrl})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:z.isPublished,onChange:e=>B({...z,isPublished:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Publish immediately"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 ml-6",children:"Published projects will be visible on the public portfolio"})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",disabled:_,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2",disabled:_,children:[_&&t.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_?"Saving...":"create"===L?"Create Project":"Save Changes"]})]})]})]})]})})]})}},Symbol.toStringTag,{value:"Module"}));r.createContext(null),r.lazy(()=>p(()=>import("./chunk-CkWBrrKE.js").then(e=>e.U),__vite__mapDeps([0,1,2,3,4]))),r.lazy(()=>p(()=>import("./chunk-CkWBrrKE.js").then(e=>e.C),__vite__mapDeps([0,1,2,3,4]))),r.lazy(()=>p(()=>import("./chunk-dpJk8qoM.js").then(e=>e.F),__vite__mapDeps([5,1,2,3,4]))),r.lazy(()=>p(()=>import("./chunk-dpJk8qoM.js").then(e=>e.A),__vite__mapDeps([5,1,2,3,4]))),r.lazy(()=>p(()=>Promise.resolve().then(()=>je),void 0)),r.lazy(()=>p(()=>Promise.resolve().then(()=>Me),void 0)),r.lazy(()=>p(()=>import("./chunk-R85HH7t5.js").then(e=>e.S),__vite__mapDeps([6,1,2,4,3]))),r.lazy(()=>p(()=>import("./chunk-R85HH7t5.js").then(e=>e.a),__vite__mapDeps([6,1,2,4,3])));export{ce as A,ye as B,z as C,je as D,ee as E,I as F,Me as G,E as I,Z as L,pe as M,re as O,D as P,fe as S,O as T,p as _,xe as a,Ne as b,M as c,R as d,F as e,S as f,J as g,V as h,T as i,H as j,q as k,U as l,K as m,Q as n,f as o,Y as p,G as q,me as r,N as s,k as t,v as u,w as v,_ as w,W as x,P as y,ge as z};
